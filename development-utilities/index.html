
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Citrix NetScaler Ansible 0.1">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.1, mkdocs-material-1.4.1">
    
    
      
        <title>Developer Documentation - Citrix NetScaler Ansible Docs</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-76741b64bc.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href=".." title="Citrix NetScaler Ansible Docs" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Developer Documentation
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Citrix NetScaler Ansible Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="NetScaler Ansible Docs" class="md-nav__link">
      NetScaler Ansible Docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      User Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        User Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../usage/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usage/speeding-up-execution/" title="Speeding up execution" class="md-nav__link">
      Speeding up execution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usage/rolling-upgrades/" title="Rolling upgrades" class="md-nav__link">
      Rolling upgrades
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usage/rolling-upgrades-vpx/" title="Rolling upgrades (VPX)" class="md-nav__link">
      Rolling upgrades (VPX)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../usage/docker-image/" title="Netscaler ansible docker image" class="md-nav__link">
      Netscaler ansible docker image
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Using Generic Ansible Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Using Generic Ansible Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../generic-modules/about/" title="Using generic Ansible modules" class="md-nav__link">
      Using generic Ansible modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../generic-modules/templating-configuration-file/" title="Templating the configuration file" class="md-nav__link">
      Templating the configuration file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../generic-modules/nitro-api-calls/" title="Direct NITRO API calls" class="md-nav__link">
      Direct NITRO API calls
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Developer Documentation
      </label>
    
    <a href="./" title="Developer Documentation" class="md-nav__link md-nav__link--active">
      Developer Documentation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#developing-a-new-module" title="Developing a new module" class="md-nav__link">
    Developing a new module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-the-spec-of-a-nitro-object" title="Getting the spec of a nitro object" class="md-nav__link">
    Getting the spec of a nitro object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-the-boilerplate" title="Generating the boilerplate" class="md-nav__link">
    Generating the boilerplate
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#developing-a-new-module" title="Developing a new module" class="md-nav__link">
    Developing a new module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-the-spec-of-a-nitro-object" title="Getting the spec of a nitro object" class="md-nav__link">
    Getting the spec of a nitro object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-the-boilerplate" title="Generating the boilerplate" class="md-nav__link">
    Generating the boilerplate
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="development-utilities"><a class="toclink" href="#development-utilities">Development Utilities</a></h1>
<p>Under the utils/ directory there exists a number of scripts and data files that aid in the development process.</p>
<p>Be advised that the state of the scripts is always in flux, so this documentation page may lag behind the actual implementation at times.</p>
<h2 id="developing-a-new-module"><a class="toclink" href="#developing-a-new-module">Developing a new module</a></h2>
<p>There is a lot of boilerplate code that goes into each module since the workflow is roughly similar for configuring a resource using a singular NITRO object.</p>
<p>To aid with this there are some scripts under utils/ to aid with the generation of this code.</p>
<p>The parts that are not covered by the boilerplate generation code is peculiarities of each NITRO object. For example having to use a different nitro object to add/update the resource and a different object to determine its existance and configuration parameters.</p>
<p>Also when adding bindings to an object there is some manual work to be done to configure how the bindings tie in with the main object and to maintain the correct control flow of the module. Still in this cases generating a module file for the binding may be beneficial since some parts of the generated module can be copied to the more complex one that uses that object combined with that module’s main nitro object.</p>
<h2 id="getting-the-spec-of-a-nitro-object"><a class="toclink" href="#getting-the-spec-of-a-nitro-object">Getting the spec of a nitro object</a></h2>
<p>To get the specification of a nitro object there is a script named scrape.py.</p>
<p>This script scrapes the nitro reference web site for each object defined in a hardcoded list and produces for each page scraped a json file.</p>
<p>This json file contains information about the properties of the nitro object and is used by subsequent scripts.</p>
<p>The operation of scrape.py is based on parsing the HTML DOM for each page and may fail for some nitro objects.</p>
<p>To add an object to be scrapped just edit the hardcoded list of objects and run the script.</p>
<h2 id="generating-the-boilerplate"><a class="toclink" href="#generating-the-boilerplate">Generating the boilerplate</a></h2>
<p>To generate the boilerplate the script compile.py has to be called.</p>
<p>This script has a hardcoded list of objects and generates for each an initial version of the corresponding module.</p>
<p>This script has as input for each nitro object the json data file which was obtained by the scrape.py script and the actual class of the Python NITRO SDK that corresponds to this object. The Python SDK must be importable when this script is run.</p>
<p>The script checks if there are differences between the attributes defined in the SDK and the attributes from the scraped json and will output warnings for each attribute missing. The attributes that will go into the generated code will be the ones present in both the SDK object and the json data file.</p>
<p>The json data file must be under utils/source/scrape.</p>
<p>The output python file is put under utils/output</p>
<p>The generated code contains the documentation for the attributes of the nitro object, the instantiation of a ConfigProxy object for the object and the control flow statements for the main module execution. Placeholders are marked by a single underscore “_” or names that start with a single underscore.</p>
<p>Replacing the placeholders, implementing the object bindings if there are any, and verifying and correcting the control flow are the most common manual steps that follow.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../generic-modules/nitro-api-calls/" title="Direct NITRO API calls" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Direct NITRO API calls
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-3964c0cb56.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>